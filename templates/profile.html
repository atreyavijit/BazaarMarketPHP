{% extends "main.html" %}

{% block page_title %}My Profile{% endblock %}

{% block content %}
  <!-- ----------------------- -->


	<div class="container">
			<div class="row">
				<div class="col-12 col-md-6">
						<h1 class="smaller"><span>BAZ</span>AAR</h1>
						<h3 class="smaller">MONTREAL</h3>
				
					<h2 class="text-muted text-center"><strong>My Profile</strong></h2>
					<div class="card w-100 bg-white">
						<h3 class="card-title text-black"><strong>{{profile.username}}</strong></h3>
					<div class="thumbnail">
						{% if profile.photo == "" %}
							<a href="uploads/png.png">
								<img class="mx-auto d-block" src="uploads/{{profile.photo}}" alt="Bazaar" style="width:100%">
							</a>
						{% else %}
							<a href="uploads/{{profile.photo}}">
								<img class="mx-auto d-blockrounded-circle bg-white" width="128px" height="128px" src="uploads/{{profile.photo}}" alt="Profile Photo">
							</a>
						{% endif %}
					</div> <!-- "thumbnail -->
						{% if owner == true %}
						<form action="{{form_action}}?id={{profile.id}}" method="POST" enctype="multipart/form-data">
							<input type="hidden" name="id" value="{{profile.id}}" />
							<div class="form-group" style="margin-top:20px;">
			          <div class="w-100">
			              <label class="custom-file w-75" id="customFile">
			                  <input type="file" class="custom-file-input" id="exampleInputFile" name="profile_image" aria-describedby="fileHelp">
			                  <span class="custom-file-control form-control-file"></span>
			              </label>
										<button name="submit" class="btn btn-primary align-bottom">Upload Photo</button>
			          </div>
			        </div>
						</form>
						{% endif %}

					  <div class="card-body text-left">
							<p class="card-text text-black">Date Joined: {{profile.created_at|date("F jS, Y")}}</p>

							<a href="send_message.php" class="btn btn-primary">Send Message</a>
					  </div>

					</div>
				</div>
				<div class="col-12 col-md-6">
					<br>
						<h3 class="text-left col-xs-12"><strong>Change My Password:</strong></h3>
						<div class="form-group col-xs-12">
							<label for="old_password" class="text-muted">Old Password:</label>
							<input type="text" class="form-control" id="old_password">
						</div>
						<div class="form-group col-xs-12">
							<label for="new_password" class="text-muted">New Password:</label>
							<input type="text" class="form-control" id="new_password">  <!-- Need to put min="1" or the number can be negative. Got the idea for min="1" from http://html5doctor.com/html5-forms-input-types/ -->
						</div>
						<div class="form-group col-xs-12 ">
							<label for="confirm_new_password" class="text-muted">Confirm New Password:</label>
							<input type="text" class="form-control" id="confirm_new_password">  <!-- Need to put min="1" or the number can be negative. Got the idea for min="1" from http://html5doctor.com/html5-forms-input-types/ -->
						</div>
						<br>
						<button type="submit" class="btn btn-default">Save Changes</button>
						<button type="reset" class="btn btn-default">Reset</button>
				</div>
		</div>
</div>
{% endblock %}
